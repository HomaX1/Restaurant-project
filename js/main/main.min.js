var modalWrap=".modal-wrap",galleryFunctions={showModalImg:function(){$(".gallery-products").on("click",function(a){"gallery-product"===a.target.parentElement.className&&($(modalWrap).css("display","flex"),$(".modal-product__img").attr("src",a.target.currentSrc))})},closeModalImg:function(){$(".modal-product__icon-cancel").on("click",function(){$(modalWrap).hide()}),$(document).mouseup(function(a){0===$(modalWrap).has(a.target).length&&$(modalWrap).hide()})},renderModalImg:function(){galleryFunctions.showModalImg(),galleryFunctions.closeModalImg()}};
var iconMenu=".main-header__icon-menu",iconCancelMenu=".navigation__icon-cancel",navigation=".navigation",navItem=".navigation-item",insideMenu=".inside-menu",mainHeader=".main-header",insideMenuLink=".inside-menu__link",headerFunctions={resize:function(){document.documentElement.clientWidth>=768?$(navigation).css("display","flex"):$(navigation).css("display","none")},showMenu:function(){$("body").append($(navigation)),$(navigation).fadeIn().css("display","flex")},closeMenu:function(n){0===$(this).children(".inside-menu").length?($(insideMenu).hide(),document.documentElement.clientWidth>=768&&$(this).has(n)?$(navigation).css("display","flex"):$(navigation).fadeOut(function(){$(mainHeader).after($(navigation))})):(headerFunctions.showInsideMenu(),$(insideMenuLink).click(function(){document.documentElement.clientWidth>=768&&$(this).has(n)?$(navigation).css("display","flex"):$(navigation).fadeOut(function(){$(mainHeader).after($(navigation))})}))},showInsideMenu:function(){$(insideMenu).fadeToggle(250)},closeInsideMenu:function(){$(document).mouseup(function(n){0===$(navigation).has(n.target).length&&$(insideMenu).fadeOut()})},headerRender:function(){$(window).resize(headerFunctions.resize),$(iconMenu).click(headerFunctions.showMenu),$(iconCancelMenu).click(headerFunctions.closeMenu),$(navItem).click(headerFunctions.closeMenu),headerFunctions.closeInsideMenu()}};
var homeFunctions={slider:function(){$(".fade").slick({dots:!1,infinite:!0,speed:500,fade:!0,cssEase:"linear"})},arrowsStyle:function(){$(".slick-arrow").text(""),$(".slick-prev").html('<i class="arrow fa fa-chevron-left" aria-hidden="true"></i>'),$(".slick-next").html('<i class="arrow fa fa-chevron-right" aria-hidden="true"></i>')},homeRender:function(){this.slider(),this.arrowsStyle()}};
!function(){"use strict";var e="";window.location.href;header.innerHTML=MyApp.templates.header(),footer.innerHTML=MyApp.templates.footer(),home.innerHTML=MyApp.templates.home(),headerFunctions.headerRender(),homeFunctions.homeRender();var n={renderPage:function(e,n,a){$("#content").children().empty(),e.innerHTML=a?n({menu:a}):n()},createMenu:function(a){e=this;var t=a.filter(function(n){return n.category===e?n:"menu-link"===e?n:void 0});n.renderPage(menu,MyApp.templates.menu,t),"menu-link"===e?$(".menu-icons__link_all").addClass("activeCategory"):$(".menu-icons__link_"+e).addClass("activeCategory"),menuFunctions.listShow(t,e)},pageNavigation:function(){$("body").on("click",".navigation, .footer-navigation, .main-header__logo, .menu-icons, .info-buttons",function(e){var a=e.target.id;switch(a){case"home-link":case"logo-link":n.renderPage(home,MyApp.templates.home),homeFunctions.homeRender(),"#";break;case"menu-link":$.get("/menu.json",n.createMenu.bind(a)),"#menu";break;case"dishes":$.get("/menu.json",n.createMenu.bind(a)),"#menu/dishes";break;case"soups":$.get("/menu.json",n.createMenu.bind(a)),"#menu/soups";break;case"salads":$.get("/menu.json",n.createMenu.bind(a)),"#menu/salads";break;case"desserts":$.get("/menu.json",n.createMenu.bind(a)),"#menu/desserts";break;case"beverages":$.get("/menu.json",n.createMenu.bind(a)),"#menu/beverages";break;case"reservation-link":n.renderPage(reservation,MyApp.templates.reservation),"#reservation",reservationFunctions.renderReservation();break;case"gallery-link":$.get("/menu.json",function(e){n.renderPage(gallery,MyApp.templates.gallery,e),galleryFunctions.renderModalImg()}),"#gallery";break;case"contacts-link":n.renderPage(contacts,MyApp.templates.contacts),"#contacts"}})}};n.pageNavigation()}();
var sortInfo=".sorts-info",sortText=".sorts-info__text",sortList=".sorts-list",menuFunctions={listShow:function(e){$(sortInfo).click(function(){$(sortList).fadeToggle()}),menuFunctions.selectOption(e)},selectOption:function(e){$(sortList).click(function(t){$(sortList).fadeOut();var o=t.target.innerText;switch(o){case"From Cheap To Expensive":console.log("From Cheap To Expensive"),e.sort(menuFunctions.increaseSort),menu.innerHTML=MyApp.templates.menu({menu:e}),$(sortText).text(o),menuFunctions.listShow(e);break;case"From Expensive To Cheap":console.log("From Expensive To Cheap"),e.sort(menuFunctions.decreaseSort),menu.innerHTML=MyApp.templates.menu({menu:e}),$(sortText).text(o),menuFunctions.listShow(e)}}),$("body").mouseup(function(e){0===$(".sorts").has(e.target).length&&$(sortList).fadeOut()})},increaseSort:function(e,t){var o=parseFloat(e.price),n=parseFloat(t.price);return o>n?1:o<n?-1:void 0},decreaseSort:function(e,t){var o=parseFloat(e.price),n=parseFloat(t.price);return o>n?-1:o<n?1:void 0}};
var schemeTables=".scheme-tables",tableNumberInput="#table-number",formSelect=".form-select",formSelectList=".form-select-list",formSelectListFrom=".form-select-list-from",formSelectListTo=".form-select-list-to",formButton=".form-reservation__button",validName="#valid-name",validPhone="#valid-phone",validTableNumber="#valid-table-number",formInput=".form-reservation__input",successSubmit=".form-reservation__text",reservationFunctions={showFormList:function(){$(formSelect).click(function(){$(this).hasClass("form-select-from")?($(formSelectListTo).fadeOut(),$(formSelectListFrom).fadeToggle()):($(formSelectListFrom).fadeOut(),$(formSelectListTo).fadeToggle())})},selectOptionList:function(){$(formSelectList).click(function(e){var t="";$(e.target.parentElement).hasClass("form-select-list-from")?($(successSubmit).hide(),$(formSelectList).fadeOut(),t=e.target.innerText,$(".form-select__text-from").text(t),$(".form-select-from").removeClass("border")):($(successSubmit).hide(),$(formSelectList).fadeOut(),t=e.target.innerText,$(".form-select__text-to").text(t),$(".form-select-to").removeClass("border"))}),$(document).mouseup(function(e){0===$(formSelect).has(e.target).length&&$(formSelectList).fadeOut()})},numberTransfer:function(){$(schemeTables).on("click",function(e){var t=+$(e.target).attr("data-id");"number"==typeof t&&$(tableNumberInput).val(t),$(successSubmit).hide(),$(validTableNumber).hide(),$(tableNumberInput).removeClass("border")})},validation:function(){$(formInput).keyup(function(e){$(successSubmit).hide();switch(e.target.id){case"first-name":if(""!==$(this).val()){/^[A-Za-z]{1,50}$/.test($(this).val())?($(this).removeClass("border"),$(validName).hide()):($(this).addClass("border"),$(validName).text("You can use latin letters only!").show())}break;case"phone-number":if(""!==$(this).val()){/^\d{3}[\-]\d{3}[\-]\d{4}$/.test($(this).val())?($(this).removeClass("border"),$(validPhone).hide()):($(this).addClass("border"),$(validPhone).text("Enter the phone number as in the example!").show())}}})},sendData:function(){$(formButton).on("click",function(e){e.preventDefault(),""===$("#first-name").val()&&($(formInput).addClass("border"),$(validName).text("Please, enter your name!").show()),""===$("#phone-number").val()&&($(formInput).addClass("border"),$(validPhone).text("Please, enter your phone number!").show()),""===$(tableNumberInput).val()&&($(tableNumberInput).addClass("border"),$(validTableNumber).text("Click on the table you want to book on the picture!").show(),reservationFunctions.numberTransfer()),"none"!==$(".form-select__text-from").text()&&"none"!==$(".form-select__text-to").text()||$(formSelect).addClass("border"),""!==$(formInput).val()&&""!==$(tableNumberInput).val()&&"none"!==$(".form-select__text").text()&&(console.log("валидно"),$(successSubmit).fadeIn())})},renderReservation:function(){reservationFunctions.showFormList(),reservationFunctions.selectOptionList(),reservationFunctions.numberTransfer(),reservationFunctions.validation(),reservationFunctions.sendData()}};